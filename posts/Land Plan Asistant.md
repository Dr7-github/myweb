---
title: '产品设计：土地规划辅助工具'
author: Zacky
date: 'March 1 2022'
excerpt: '该项目致力于简化土地利用规划中流程化的传统工作模式，经过项目调研、产品规划，基于Rhino平台，并利用Grasshopper、Python等工具初步实现初期工具原型'
---
# 产品介绍
## 项目背景
**土地规划设计**是一项涉及多方面因素的复杂工作，需要考虑用地信息、项目需求、规划指标、政策法规等多个方面的内容，同时还要保证方案的合理性、可行性和美观性。传统的土地规划设计方法依赖于人工的绘图、计算和评估，耗时耗力，效率低下，而且容易出现错误和遗漏。

因此，为了提高土地规划设计的效率和质量，开发土地规划设计产品，该产品可以帮助用户根据用地信息、项目需求、规划指标等因素，快速生成合理的土地规划方案，并通过可视化的方式展示和评估方案的优劣。

## 项目目标
- **自动化**：用户只需输入或选择基本的用地信息和项目需求，即可自动或手动生成土地规划方案，并进行修改和优化。
- **高效性**：用户可以在短时间内生成多个土地规划方案，并通过比较和选择，找到最适合的方案。
- **智能化**：用户可以根据系统的推荐和提示，生成符合规范和标准的规划指标，并进行调整和优化。
- **可视化**：用户可以通过用地可视化视图和数据可视化视图，直观地看到用地的分布、特征、比例等情况，以及方案的效果、指标、评价等信息。
# 用户研究
## 用户画像
![](https://raw.githubusercontent.com/Dr7-github/PixStore/main/%E7%94%A8%E6%88%B7%E7%94%BB%E5%83%8F%E5%9B%BE.png)
## 用户需求
![](https://raw.githubusercontent.com/Dr7-github/PixStore/main/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1_%E7%94%A8%E6%88%B7%E9%9C%80%E6%B1%82%E8%AF%84%E4%BB%B7.png)
# 产品设计
## 交互流程
通过整理目标用户的需求以及梳理相关业务流程，提取并梳理出设计流程的核心业务的三大模块：**规划设计、项目设置、项目审查**。

![](https://raw.githubusercontent.com/Dr7-github/PixStore/main/%E9%A1%B9%E7%9B%AE%E6%B5%81%E7%A8%8B.svg)

## 产品架构
架构思路：该产品的架构分为四个主要模块，分别是数据模块、视图模块、设计模块和项目设置模块。
- **数据模块**：该模块负责存储和管理用地信息数据库，包括用地位置、面积、性质、容积率等基本信息，以及用地分类、占比等统计信息。该模块为其他模块提供数据支持和接口。
    >- 容积率：是指建筑总面积与地块面积的比值，反映了土地利用的强度和建筑密度。容积率越高，说明土地利用越集中，建筑越密集。容积率是城市规划和建筑设计中常用的一个控制指标
    >- 地块性质：是指城市规划中对各类用地的功能定位和使用要求，如居住用地、商业用地、工业用地、公共设施用地等。不同的地块性质有不同的规划指标和管理规定，如容积率、建筑高度、绿地率等
- **视图模块**：该模块负责展示和交互用地可视化视图和数据可视化视图，让用户可以直观地看到用地的分布、特征、比例等情况，以及方案的效果、指标、评价等信息。该模块为用户提供友好的界面和操作。
- **设计模块**：该模块负责接收和修改土地规划方案，包括路网设置、边界设置和指标生成三个子模块。路网设置可以让用户根据不同等级的道路类型，绘制或调整路网结构；边界设置可以让用户根据设计边界、分区边界和地块边界，划分或调整土地的划分；指标生成可以根据用户的输入或系统的推荐，自动或手动生成符合规范的规划指标。该模块为用户提供智能的设计和优化功能。
    >- 主干道：是城市道路网中具有重要交通功能和服务功能的道路，一般为双向四车道或以上，中央分隔，设置交通信号灯或立交桥控制交叉口。
    >- 次干道：是城市道路网中次于主干道的道路，一般为双向两车道或三车道，中央分隔或不分隔，设置交通信号灯或人行横道控制交叉口。
    >- 支路：是城市道路网中最低等级的道路，一般为单向一车道或两车道，不分隔，设置减速带或减速坡控制交叉口。
- **项目设置模块**：该模块负责设置和管理土地规划项目的相关参数，包括标准用地项目设置和附加用地项目设置两个子模块。标准用地项目设置可以让用户根据不同的用地性质，设置或调整容积率等基本参数；附加用地项目设置可以让用户根据不同的项目类型，如医疗教育、文体、便民设施和市政设施等，设置或调整项目的规模、位置、功能等参数。该模块为用户提供灵活的配置和管理功能。
![产品架构](https://raw.githubusercontent.com/Dr7-github/PixStore/main/%E4%BA%A7%E5%93%81%E6%9E%B6%E6%9E%84.svg)

## 原型设计
![产品原型图](https://raw.githubusercontent.com/Dr7-github/PixStore/main/%E4%BA%A7%E5%93%81%E5%8E%9F%E5%9E%8B.png "产品原型")

### 数据库
用地信息数据库是一个关系型数据库，用于存储用户输入的用地信息，包括用地编号、用地面积、用地性质、容积率等属性，以及与其他用地的邻接关系。用地信息数据库的表结构如下：
![](https://raw.githubusercontent.com/Dr7-github/PixStore/main/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1_%E7%94%A8%E5%9C%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%93%E6%9E%84(2).png)

### 项目视图
![项目视图](https://raw.githubusercontent.com/Dr7-github/PixStore/main/%E9%A1%B9%E7%9B%AE%E8%A7%86%E5%9B%BE.svg)
### 项目设置
![项目内容](https://raw.githubusercontent.com/Dr7-github/PixStore/main/%E9%A1%B9%E7%9B%AE%E5%86%85%E5%AE%B9.svg)
### 图形生成
图形生成模块需要借助 **Rhino** 平台相关接口，设定特定图形变化规则，用户在项目设置完毕后，点击生成按钮，模块将依据用户设计的道路中线，实现道路与用地工程CAD图形的自动化生成：
- **道路生成**：由用户设定的道路中线偏移形成路缘石线，偏移距离即道路宽度由相关规范（本产品参照深圳市城市规划规范及相关法规设定）决定，主干道28米，次干道14米，支路9米；
![道路生成](https://raw.githubusercontent.com/Dr7-github/PixStore/main/%E9%81%93%E8%B7%AF%E7%94%9F%E6%88%90.svg)
- **交叉口生成**：检测各个道路中线的交叉点及道路路缘石线交叉点，由路缘石线交叉点对路缘石进行倒圆角，圆角半径由相关规范设定确定，倒圆角后的圆角对路缘石线进行切割，所形成的封闭包围图形即为路缘石线段。
![交叉口生成](https://raw.githubusercontent.com/Dr7-github/PixStore/main/%E4%BA%A4%E5%8F%89%E5%8F%A3%E7%94%9F%E6%88%90.svg)
- **用地红线生成**：切割形成的数段路缘石线依据规范再次向内偏移，并将偏移后的线段闭合连接所形成的封闭图形即为用地红线，图形内部即为项目用地；
- **用地划分**：用户可根据需求在用地内部添加细分的划分线段，设定完毕后，将用地进一步切分为细分用地地块；
- **自动标号**：设定完毕后，系统自动根据分区为所有用地分配用地编号，依照从上到下，从左到右的顺序，形成三级编码，第一位表示所在大区，第二位表示所在大区内位次，第三位表示所在用地内的位次，编号完成后对所有用地其它属性进行初始化，保存入用地数据库；
![地块编号](https://raw.githubusercontent.com/Dr7-github/PixStore/main/%E5%9C%B0%E5%9D%97%E6%A0%87%E5%8F%B7.svg)

## 非功能性需求
- **技术组件需求**：高效的MVP产品性能和快速开发需求，本次开发采用**SQLite**数据库
- **性能需求**：需支持500M标准大小CAD文件的导入，以及流畅运行
- **可用性需求**：本产品基于**Rhino7**平台打造，启动程序需执行Rhino 7命令行执行程序启动任务，也需向下兼容至**Rhino6**及**Rhino5**等主流发行版本；
    > **Rhino**平台是一种强大的专业3D造型软件，它可以精确地制作各种曲面模型，用于渲染、动画、工程图、分析评估和生产等目的。Rhino平台最初被用于工业设计和产品设计，后来由于它的NURBS建模和可视化编程插件的优势，还支持多种插件和扩展,也被广泛应用于建筑设计行业。

## MVP开发成品
![MVP成果](https://raw.githubusercontent.com/Dr7-github/PixStore/main/MVP.png)

# 相关链接
*1. [Digital Future 数字未来建筑黑客马拉松TOP10作品出炉](https://mp.weixin.qq.com/s?src=11&timestamp=1690478916&ver=4676&signature=-VXaJ8wYmm-Q1KCqGzDzZjM2cLvmNVofpJsZab-8*6W6-b23xHqyacDvYxotSBGeJp50Qe9Y4USGtXNUtjjKAx8z8UN7XpRFwf*gpybf3kXqdTIEhcDLgEdxWYFEMYi6&new=1)*